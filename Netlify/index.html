<!DOCTYPE html>
<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<title>Roofing Contractor Insurance Quote</title>
<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background-color: #f8f8f8;
        color: #333;
    }
    form {
        max-width: 800px;
        margin: 20px auto;
        padding: 30px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    h1 {
        color: #ff8c00;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2em;
        font-weight: bold;
    }
    h2 {
        color: #ff8c00;
        margin-top: 30px;
        margin-bottom: 15px;
        font-size: 1.3em;
        border-bottom: 2px solid #ff8c00;
        padding-bottom: 5px;
    }
    label {
        display: block;
        margin-top: 18px;
        margin-bottom: 5px;
        font-weight: bold;
        color: #555;
        font-size: 0.95em;
    }
    input[type="text"],
    input[type="email"],
    input[type="url"],
    input[type="date"],
    input[type="number"],
    select,
    textarea {
        width: calc(100% - 16px);
        padding: 10px 8px;
        margin-top: 5px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1em;
        box-sizing: border-box;
        transition: border-color 0.3s ease;
    }
    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="url"]:focus,
    input[type="date"]:focus,
    input[type="number"]:focus,
    select:focus,
    textarea:focus {
        border-color: #ff8c00;
        outline: none;
        box-shadow: 0 0 5px rgba(255, 140, 0, 0.5);
    }
    button {
        margin-top: 30px;
        padding: 12px 25px;
        font-size: 1.1em;
        background-color: #ff8c00;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        transition: background-color 0.3s ease, transform 0.1s ease;
        font-weight: bold;
        letter-spacing: 0.5px;
    }
    button:hover {
        background-color: #e67e00;
        transform: translateY(-2px);
    }
    button:active {
        transform: translateY(0);
    }
    button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
        transform: none;
    }
    .small-text {
        font-size: 12px;
        text-align: center;
        margin-top: 40px;
        color: #999;
    }
    
    /* Conditional sections styling */
    .conditional-section {
        display: none;
        background-color: #f9f9f9;
        border-left: 4px solid #ff8c00;
        padding: 15px;
        margin: 10px 0;
        border-radius: 4px;
        animation: slideIn 0.3s ease-in-out;
    }
    
    .conditional-section.show {
        display: block;
    }
    
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .percentage-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        margin: 10px 0;
    }
    
    .percentage-input {
        width: 100% !important;
        text-align: center;
    }
    
    .checkbox-group {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin: 10px 0;
    }
    
    .checkbox-group label {
        display: flex;
        align-items: center;
        margin: 0;
        font-weight: normal;
    }
    
    .checkbox-group input[type="checkbox"] {
        width: auto;
        margin-right: 8px;
    }
    
    /* Two-column layout for shorter fields */
    .two-column {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 10px 0;
    }
    
    .two-column label {
        margin-top: 10px;
    }
    
    @media (max-width: 600px) {
        .two-column {
            grid-template-columns: 1fr;
        }
    }
    
    /* Additional Insured popup styling */
    .additional-insured-options {
        display: none;
        background-color: #f0f8ff;
        border: 1px solid #2196f3;
        border-radius: 5px;
        padding: 10px;
        margin-top: 10px;
    }
    
    .additional-insured-options.show {
        display: block !important;
    }
    
    /* Add more recipients button */
    .add-more-btn {
        background-color: #2196f3;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9em;
        margin-top: 10px;
        width: auto;
    }
    
    .add-more-btn:hover {
        background-color: #1976d2;
    }
    
    .info-box {
        background-color: #e3f2fd;
        border: 1px solid #2196f3;
        border-radius: 5px;
        padding: 10px;
        margin: 15px 0;
        font-size: 0.9em;
    }
    
    .warning-box {
        background-color: #fff3e0;
        border: 1px solid #ff9800;
        border-radius: 5px;
        padding: 10px;
        margin: 15px 0;
        font-size: 0.9em;
    }
    
    .total-indicator {
        color: #ff8c00;
        font-weight: bold;
        margin-left: 10px;
    }
    
    .certificate-recipient {
        border: 1px solid #ddd;
        padding: 15px;
        margin: 15px 0;
        border-radius: 5px;
        background-color: #fafafa;
    }
    
    @media (max-width: 600px) {
        form {
            padding: 20px;
            margin: 10px auto;
        }
        h1 {
            font-size: 1.7em;
        }
        label {
            font-size: 0.9em;
            margin-top: 15px;
        }
        input, select, textarea, button {
            font-size: 0.95em;
            padding: 10px;
        }
        .percentage-grid {
            grid-template-columns: 1fr 1fr;
        }
    }
</style>
</head>
<body>
<h1>Roofing Contractor Insurance Quote</h1>
<form id="quoteForm" name="roofing-contractor-quote">
  <input type="hidden" name="trade" value="Roofing">
  <input type="hidden" name="naics" value="238160">
  <input type="hidden" name="sic" value="1761">
  <input type="hidden" name="segment" value="Roofing">
    
    <h2>Basic Information</h2>
    <label>Applicant's Name:<input name="applicant_name" required type="text"/></label>
    <label>Applicant Mailing Address:<input name="applicant_address" required type="text"/></label>

<div class="two-column">
    <label>State:
        <select name="applicant_state" required>
            <option value="">-- Select State --</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
        </select>
    </label>
    <label>Zip Code:<input name="applicant_zip" type="text" pattern="[0-9]{5}" maxlength="5"/></label>
</div>

<div class="two-column">
    <label>Applicant's Phone Number:<input name="applicant_phone" type="text"/></label>
    <label>Web Address:<input name="web_address" type="text"/></label>
</div>
    
    <div class="two-column">
        <label>Inspection Contact:<input name="inspection_contact" type="text"/></label>
        <label>Phone for Inspection Contact:<input name="inspection_phone" type="text"/></label>
    </div>
    
    <div class="two-column">
        <label>Policy Period From:<input name="policy_period_from" type="date"/></label>
        <label>Policy Period To:<input name="to" type="date"/></label>
    </div>
    
    <label>Applicant is:</label>
    <div class="checkbox-group">
        <label><input type="checkbox" name="entity_type_individual" value="Yes"/> Individual</label>
        <label><input type="checkbox" name="entity_type_partnership" value="Yes"/> Partnership</label>
        <label><input type="checkbox" name="entity_type_corporation" value="Yes"/> Corporation</label>
        <label><input type="checkbox" name="entity_type_joint_venture" value="Yes"/> Joint Venture</label>
        <label><input type="checkbox" name="entity_type_llc" value="Yes"/> LLC</label>
        <label><input type="checkbox" name="entity_type_other" value="Yes"/> Other</label>
    </div>
    
    <label>Location #1:<input name="location_1" type="text"/></label>
    <label>Do you have additional locations?
        <select name="Has_Additional_Locations" data-conditional="additional_locations">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="additional_locations=Yes">
        <label>Location #2:<input name="location_2" type="text"/></label>
        <label>Location #3:<input name="location_3" type="text"/></label>
    </div>

    <h2>Experience & Operations</h2>
    <div class="two-column">
        <label>Years in Business?<input name="years_in_business" type="number" min="0"/></label>
        <label>Years of Experience in this field?<input name="Years_of_Experience" type="number" min="0"/></label>
    </div>
    
    <h2>Types of Roofing Operations</h2>
    <div class="info-box">
        Indicate the percent of each type of roofing performed. Must equal 100%.
        <span id="operationsTotalDisplay" class="total-indicator">Current Total: 0%</span>
    </div>
    
    <label>Commercial Operations:</label>
    <div class="percentage-grid">
        <label>New Construction %:
            <select name="commercial_new_construction" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Repair/Patching %:
            <select name="commercial_repair_patching" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Replacement %:
            <select name="commercial_replacement" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
    </div>
    
    <label>Residential Operations:</label>
    <div class="percentage-grid">
        <label>New Construction %:
            <select name="residential_new_construction" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Repair/Patching %:
            <select name="residential_repair_patching" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Replacement %:
            <select name="residential_replacement" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
    </div>
    
    <label>Industrial Operations:</label>
    <div class="percentage-grid">
        <label>New Construction %:
            <select name="industrial_new_construction" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Repair/Patching %:
            <select name="industrial_repair_patching" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Replacement %:
            <select name="industrial_replacement" class="operations-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
    </div>
    
    <div class="warning-box" id="operationsWarning" style="display:none;">
        Warning: The total percentage must equal 100%. Please adjust your selections.
    </div>
    
    <h2>Types of Roofing Materials</h2>
    <div class="info-box">
        Please indicate the percentage of each material type used. The total should equal 100%.
        <span id="materialsTotalDisplay" class="total-indicator">Current Total: 0%</span>
    </div>
    <div class="percentage-grid">
        <label>Flat Roofs %:
            <select name="flat_roofs_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Metal %:
            <select name="metal_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Pitch Roofs %:
            <select name="pitch_roofs_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Asphalt Shingle %:
            <select name="asphalt_shingle_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Single Ply %:
            <select name="single_ply_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Tile %:
            <select name="tile_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Fiberglass %:
            <select name="fiberglass_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Wood %:
            <select name="wood_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Polyurethane Foam %:
            <select name="polyurethane_foam_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Hot Tar %:
            <select name="hot_tar_percent" class="materials-percent" data-conditional="hot_tar_use">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Slate %:
            <select name="slate_percent" class="materials-percent">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
        <label>Torch Down %:
            <select name="torch_down_percent" class="materials-percent" data-conditional="torch_down_use">
                <option value="">--</option>
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
            </select>
        </label>
    </div>
    
    <div class="warning-box" id="materialsWarning" style="display:none;">
        Warning: The total percentage should equal 100%. Please adjust your selections.
    </div>
    <!--
    <div class="conditional-section" id="hotProcessSection" style="display:none;">
        <div class="warning-box">
            You've indicated use of hot processes (hot tar or torch down). Safety precautions are required. Please answer all questions below.
        </div>
        
        <label>1. Do you perform any work involving the spraying of flammable liquids?
            <select name="spraying_flammable_liquids" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        
        <label>2. What processes and safety precautions are used to prevent fires during and after work hours?
            <textarea name="fire_prevention_processes" required></textarea>
        </label>
        
        <label>3. Are Fire Extinguishers available at all job sites?
            <select name="fire_extinguishers_all_sites" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        
        <label>4. Do you perform a fire watch?
            <select name="Perform_Fire_Watch" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        
        <label>5. What is the minimum length of time that you remain on a heat application job site after the cessation of the application for any reason?
            <textarea name="Fire_Watch_Duration" required placeholder="e.g., 30 minutes, 1 hour, etc."></textarea>
        </label>
        
        <label>6. Please describe your heat application fire safety inspection procedures:
            <textarea name="Heat_Safety_Inspection_Procedures" required></textarea>
        </label>
        
        <label>7. Years experience with heat application roofing operations:
            <input name="Heat_Application_Experience_Years" type="text" required placeholder="Enter number of years"/>
        </label>
        
        <label>8. Is all hot work performed by employees who have completed CERTA - National Roofing Contractors Assoc. Roofing Torch Application Program?
            <select name="CERTA_Certified_Employees" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        
        <label>9. Do you comply with OSHA Eg#1926.352 "Fire Prevention"?
            <select name="OSHA_Fire_Prevention_Compliance" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
    </div>
-->
    <label>Other - Describe:<input name="other_roofing_describe" type="text"/></label>

    <h2>Additional Operations & Safety</h2>
    <label>Describe any other operations or work done other than roofing (e.g., waterproofing, siding, asbestos removal, rain gutters, carpentry, etc):<textarea name="other_operations"></textarea></label>
    
    <label>Has or will any work involve the new construction of condominiums, townhouses, multi-family homes, apartments or tract homes?
        <select name="Multi_Family_Work" data-conditional="multi_family_work">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="multi_family_work=Yes">
        <label>If yes, please describe the work?<textarea name="describework"></textarea></label>
        <label>Number of units in largest project:<input name="multi_family_units" type="number" min="0"/></label>
    </div>
    
    <label>Any Current Wrap-Up/OCIP Projects?
        <select name="wrap_up_projects" data-conditional="wrap_up_projects">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="wrap_up_projects=Yes">
        <label>If yes, what is the projected cost associated with the Wrap-Up/OCIP Projects?<input name="wrap_up_cost" type="text"/></label>
    </div>
    
    <label>What is the maximum height of the buildings you work on?<input name="max_building_height" type="text"/></label>
    
    <label>If over 3 stories, does applicant have a fall protection program in place for all jobs including one of the following systems:</label>
    <div class="checkbox-group">
        <label><input type="checkbox" name="fall_protection_guardrail" value="Yes"/> Guardrail system with toes boards</label>
        <label><input type="checkbox" name="fall_protection_safety_net" value="Yes"/> Safety net</label>
        <label><input type="checkbox" name="fall_protection_personal" value="Yes"/> Personal fall arrest system</label>
    </div>
    
    <label>Do you have a written safety program?
        <select name="written_safety_program">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>

    <h2>Financial Information</h2>
    <div class="two-column">
        <label>Owner/Partner Payroll $<input name="owner_partner_payroll" type="text"/></label>
        <label>Employee Payroll $<input name="employee_payroll" type="text"/></label>
    </div>
    
    <div class="two-column">
        <label>Subcontractor Cost $<input name="subcontractor_cost" type="text"/></label>
        <label>Uninsured Subcontractor Payroll $<input name="uninsured_sub_payroll" type="text"/></label>
    </div>
    
    <div class="two-column">
        <label>Number of Employees:<input name="num_employees" type="number" min="0"/></label>
        <label>Leased Employees Payroll $<input name="leased_employee_payroll" type="text"/></label>
    </div>
    
    <label>Total Gross Sales $<input name="total_gross_sales" type="text"/></label>

    <h2>Safety & Procedures</h2>
    <label>How do you protect the general public from potential injury?<textarea name="protect_public"></textarea></label>
    <label>How are materials lifted to the roof?<textarea name="materials_lifting"></textarea></label>
    <label>How are openings in the roof protected over night?<textarea name="roof_openings_protected"></textarea></label>
    <label>What precautions do you take when a rainstorm is imminent?<textarea name="rainstorm_precautions"></textarea></label>
    
    <label>Does a foreman or contractor inspect all jobs upon completion?
        <select name="completion_inspection">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    
    <label>Have you ever or do you currently perform work in AZ, CA, CO, NV, NY, OR, UT or WA?
        <select name="work_restricted_states" data-conditional="work_restricted_states">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="work_restricted_states=Yes">
     <label>Please describe work in these states:<textarea name="restricted_states_details"></textarea></label>
    </div>
    
    <label>Have you ever used, sold, installed or removed asbestos?
        <select name="asbestos_work" data-conditional="asbestos_work">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="asbestos_work=Yes">
        <label>When was the last asbestos-related work?<input name="asbestos_last_date" type="date"/></label>
        <label>If yes explain in detail:<textarea name="asbestos_details"></textarea></label>
    </div>
    
    <label>Are Cranes used?
        <select name="cranes_used" data-conditional="cranes_used">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="cranes_used=Yes">
        <div class="two-column">
            <label>Crane Size (Tons):<input name="crane_size_tons" type="number"/></label>
            <label>Boom Length:<input name="crane_boom_length" type="text"/></label>
        </div>
        <label>Are barriers in place to protect the public?
            <select name="crane_barriers">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <label>Are the cranes owned or rented?</label>
        <div class="checkbox-group">
            <label><input type="checkbox" name="cranes_owned" value="Yes"/> Owned</label>
            <label><input type="checkbox" name="cranes_rented" value="Yes"/> Rented</label>
        </div>
        <label>If owned, is equipment under a regular maintenance schedule?
            <select name="crane_maintenance">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <label>Are employees properly trained and certified?
            <select name="crane_training">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
    </div>

        <label>Does the applicant have a "fire watch" program to assure there are no "hot spots" after completion of a job?
             <input type="checkbox" name="fire_watch_program" value="Yes" data-conditional="fire_watch_program"/>
        </label>
            <div class="conditional-section" data-show-when="fire_watch_program=Yes">
        <label>Describe:<textarea name="fire_watch_description" placeholder="Describe your fire watch program"></textarea>
    </div>

    <label>Is applicant complying with all state & OSHA regulations?
        <select name="osha_compliance">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>

    <h2>Roofing Contractors</h2>
    
    <label>Does applicant draw plans, designs or specifications?
        <select name="draw_plans_designs" data-conditional="draw_plans_designs">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="draw_plans_designs=Yes">
        <label>If yes, describe.<textarea name="plans_description"></textarea></label>
    </div>
    
    <label>Do your subcontractors carry coverage or limits less than yours?
        <select name="sub_lower_coverage" data-conditional="sub_lower_coverage">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="sub_lower_coverage=Yes">
        <label>If yes, what are the minimum limits you accept?<input name="minimum_limits" type="text"/></label>
    </div>
    
    <div class="two-column">
        <label>Are certificates of insurance required from subcontractors?
            <select name="certificates_required">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <label>Do subcontractors list you as Additional Insured?
            <select name="additional_insured">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
    </div>
    
    <label>Is a signed subcontract agreement used with all subcontractors that contains an indemnification and hold harmless clause in your favor?
        <select name="indemnification_clause">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    
    <div class="two-column">
        <label>How long are Certificates of Insurance kept?<input name="certificate_retention_years" type="number" min="0" placeholder="Years"/></label>
        <label>If other, provide details:<input name="certificate_retention_other" type="text"/></label>
    </div>
    
    <label>Describe the type of work subcontracted indicating percent for each category:<textarea name="Subcontracted_Work"></textarea></label>
    
    <label>Does applicant lease equipment to others with or without operators?
        <select name="lease_equipment" data-conditional="lease_equipment">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="lease_equipment=Yes">
        <label>If yes, describe equipment and forward copy of lease agreement:<textarea name="lease_equipment_description"></textarea></label>
    </div>
    
    <div class="two-column">
        <label>Full-time Employees:<input name="full_time_employees" type="number" min="0"/></label>
        <label>Part-time Employees:<input name="part_time_employees" type="number" min="0"/></label>
    </div>
    
    <h2>Three-Year Sales History</h2>
    <div class="two-column">
        <label>Year 2025 Gross Sales $<input name="gross_sales_year_1" type="text"/></label>
        <label>Year 2024 Gross Sales $<input name="gross_sales_year_2" type="text"/></label>
    </div>
    <label>Year 2023 Gross Sales $<input name="gross_sales_year_3" type="text"/></label>
    
    <label>Do you offer warranties?
        <select name="warranties_offered" data-conditional="warranties_offered">
            <option value="">-- Select --</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    <div class="conditional-section" data-show-when="warranties_offered=Yes">
        <label>Warranty Period (Years):<input name="Warranty_Period" type="number" min="0"/></label>
        <label>Describe warranty coverage:<textarea name="Warranty_Description"></textarea></label>
    </div>
    
    <h2>Contractual Liability</h2>
    <label>Describe All Hold Harmless Agreements (Dates, Contracting Party, Cost) and attach copies.<textarea name="hold_harmless_agreements"></textarea></label>
    
    <h2>Certificate Recipients / Additional Interests</h2>
    
    <div id="certificateRecipients">
        <div class="certificate-recipient">
            <label>Name and Address #1:<input name="certificate_recipients_name_1" type="text"/></label>
            <label>Relationship to Applicant:<input name="certificate_recipients_relationship_1" type="text"/></label>
            <label>Is this recipient an Additional Insured?
                <select name="certificate_recipients_additional_1" data-conditional="additional_insured_1">
                    <option value="">-- Select --</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </label>
            <div class="additional-insured-options" id="additionalOptions1">
                <label>Additional Insured Type:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="Additional_Insured_Type_1" value="Additional Insured"/> Additional Insured</label>
                    <label><input type="checkbox" name="Lienholder_1" value="Yes"/> Lienholder</label>
                    <label><input type="checkbox" name="Loss_Payee_1" value="Yes"/> Loss Payee</label>
                    <label><input type="checkbox" name="Mortgagee_1" value="Yes"/> Mortgagee</label>
                </div>
            </div>
            <label>Certificate Required?<input type="checkbox" name="certificate_recipients_certificate_1" value="Yes"/> </label>
        </div>
        </div>

<button type="button" class="add-more-btn" id="addMoreRecipients">Add More Recipients</button>
<div id="additionalRecipients" style="display:none;">
    <div class="certificate-recipient">
        <label>Name and Address #2:<input name="certificate_recipients_name_2" type="text"/></label>
        <label>Relationship to Applicant:<input name="certificate_recipients_relationship_2" type="text"/></label>
        <label>Is this recipient an Additional Insured?
            <select name="certificate_recipients_additional_2" data-conditional="additional_insured_2">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <div class="additional-insured-options" id="additionalOptions2">
            <label>Additional Insured Type:</label>
            <div class="checkbox-group">
                <label><input type="checkbox" name="Additional_Insured_Type_2" value="Additional Insured"/> Additional Insured</label>
                <label><input type="checkbox" name="Lienholder_2" value="Yes"/> Lienholder</label>
                <label><input type="checkbox" name="Loss_Payee_2" value="Yes"/> Loss Payee</label>
                <label><input type="checkbox" name="Mortgagee_2" value="Yes"/> Mortgagee</label>
            </div>
        </div>
        <label>Certificate Required?<input type="checkbox" name="certificate_recipients_certificate_2" value="Yes"/> </label>
    </div>
    
    <div class="certificate-recipient">
        <label>Name and Address #3:<input name="certificate_recipients_name_3" type="text"/></label>
        <label>Relationship to Applicant:<input name="certificate_recipients_relationship_3" type="text"/></label>
        <label>Is this recipient an Additional Insured?
            <select name="certificate_recipients_additional_3" data-conditional="additional_insured_3">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <div class="additional-insured-options" id="additionalOptions3">
            <label>Additional Insured Type:</label>
            <div class="checkbox-group">
                <label><input type="checkbox" name="Additional_Insured_Type_3" value="Additional Insured"/> Additional Insured</label>
                <label><input type="checkbox" name="Lienholder_3" value="Yes"/> Lienholder</label>
                <label><input type="checkbox" name="Loss_Payee_3" value="Yes"/> Loss Payee</label>
                <label><input type="checkbox" name="Mortgagee_3" value="Yes"/> Mortgagee</label>
            </div>
        </div>
        <label>Certificate Required?<input type="checkbox" name="certificate_recipients_certificate_3" value="Yes"/> </label>
    </div>

     <div class="certificate-recipient">
        <label>Name and Address #4:<input name="certificate_recipients_name_4" type="text"/></label>
        <label>Relationship to Applicant:<input name="certificate_recipients_relationship_4" type="text"/></label>
        <label>Is this recipient an Additional Insured?
            <select name="certificate_recipients_additional_4" data-conditional="additional_insured_4">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label>
        <div class="additional-insured-options" id="additionalOptions4">
            <label>Additional Insured Type:</label>
            <div class="checkbox-group">
                <label><input type="checkbox" name="Additional_Insured_Type_4" value="Additional Insured"/> Additional Insured</label>
                <label><input type="checkbox" name="Lienholder_4" value="Yes"/> Lienholder</label>
                <label><input type="checkbox" name="Loss_Payee_4" value="Yes"/> Loss Payee</label>
                <label><input type="checkbox" name="Mortgagee_4" value="Yes"/> Mortgagee</label>
            </div>
        </div>
        <label>Certificate Required?<input type="checkbox" name="certificate_recipients_certificate_4" value="Yes"/> </label>
    </div>
</div>
    
    <h2>List Three (3) of Your Largest Jobs and Type of Process Used in the Last Five (5) Years</h2>
    <div class="certificate-recipient">
        <div class="two-column">
            <label>Jobs #1:<input name="largest_job_1" type="text"/></label>
            <label>Type of Process Used:<input name="largest_job_1_process" type="text"/></label>
        </div>
    </div>
    
    <div class="certificate-recipient">
        <div class="two-column">
            <label>Jobs #2:<input name="largest_job_2" type="text"/></label>
            <label>Type of Process Used:<input name="largest_job_2_process" type="text"/></label>
        </div>
    </div>
    
    <div class="certificate-recipient">
        <div class="two-column">
            <label>Jobs #3:<input name="largest_job_3" type="text"/></label>
            <label>Type of Process Used:<input name="largest_job_3_process" type="text"/></label>
        </div>
    </div>
    
    <h2>Additional Information or Comments</h2>
    <textarea name="additional_comments" style="width: 100%; height: 100px;"></textarea>
    
    <div class="info-box" style="margin-top: 30px;">
    <strong>Please send a copy of Hold Harmless Agreements, Warranties and Sub Contractor agreements to Quotes@RoofingContractorInsuranceDirect.com</strong>
</div>

    <button type="submit">Submit Quote Request</button>
</form>
<div class="small-text"> Commercial Insurance Direct LLC, 2025. All rights reserved.</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // ROBUST GHOST SUBMIT PREVENTION
        let isSubmitting = false;
        let lastSubmitTime = 0;
        const MIN_SUBMIT_INTERVAL = 2000;
        
        // ENHANCED CONDITIONAL LOGIC SYSTEM
        function setupConditionalLogic() {
            const conditionalElements = document.querySelectorAll('[data-conditional]');
            const conditionalSections = document.querySelectorAll('.conditional-section[data-show-when]');
            
            conditionalElements.forEach(element => {
                element.addEventListener('change', function() {
                    const triggerName = element.getAttribute('data-conditional');
                    const selectedValue = element.value;
                    
                    conditionalSections.forEach(section => {
                        const showWhen = section.getAttribute('data-show-when');
                        if (!showWhen) return;
                        
                        const [conditionName, conditionValue] = showWhen.split('=');
                        
                        if (conditionName === triggerName) {
                            if (selectedValue === conditionValue) {
                                section.classList.add('show');
                            } else {
                                section.classList.remove('show');
                                clearSectionInputs(section);
                            }
                        }
                    });
                    
                    // Handle Additional Insured options
                    if (triggerName.startsWith('additional_insured_')) {
                        const num = triggerName.split('_').pop();
                        const optionsDiv = document.getElementById(`additionalOptions${num}`);
                        if (optionsDiv) {
                            if (selectedValue === 'Yes') {
                                optionsDiv.classList.add('show');
                                optionsDiv.style.display = 'block';
                            } else {
                                optionsDiv.classList.remove('show');
                                optionsDiv.style.display = 'none';
                                clearSectionInputs(optionsDiv);
                            }
                        }
                    }
                });
            });
            
            // Special handling for hot tar and torch down - Updated to trigger at 10% or more
            const hotTar = document.querySelector('[name="hot_tar_percent"]');
            const torchDown = document.querySelector('[name="torch_down_percent"]');
            const hotProcessSection = document.getElementById('hotProcessSection');
            
            function checkHotProcess() {
                const hotTarValue = parseInt(hotTar?.value) || 0;
                const torchDownValue = parseInt(torchDown?.value) || 0;
                
                // Changed from > 0 to >= 10 for Hot Tar
                if (hotTarValue >= 10 || torchDownValue > 0) {
                    hotProcessSection.style.display = 'block';
                    hotProcessSection.classList.add('show');
                } else {
                    hotProcessSection.style.display = 'none';
                    hotProcessSection.classList.remove('show');
                    clearSectionInputs(hotProcessSection);
                }
            }
            
            if (hotTar) hotTar.addEventListener('change', checkHotProcess);
            if (torchDown) torchDown.addEventListener('change', checkHotProcess);
        }
        
        function clearSectionInputs(section) {
            const inputs = section.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                if (input.type === 'checkbox' || input.type === 'radio') {
                    input.checked = false;
                } else {
                    input.value = '';
                }
            });
        }
        
        // Add More Recipients functionality
        const addMoreBtn = document.getElementById('addMoreRecipients');
        const additionalRecipients = document.getElementById('additionalRecipients');
        
        if (addMoreBtn) {
            addMoreBtn.addEventListener('click', function() {
                additionalRecipients.style.display = 'block';
                addMoreBtn.style.display = 'none';
            });
        }
        
        // PERCENTAGE TOTALS VALIDATION
        function setupPercentageValidation() {
            // Operations percentage validation
            const operationsPercents = document.querySelectorAll('.operations-percent');
            const operationsTotalDisplay = document.getElementById('operationsTotalDisplay');
            const operationsWarning = document.getElementById('operationsWarning');
            
            operationsPercents.forEach(select => {
                select.addEventListener('change', () => {
                    let total = 0;
                    operationsPercents.forEach(s => {
                        total += parseInt(s.value) || 0;
                    });
                    
                    operationsTotalDisplay.textContent = `Current Total: ${total}%`;
                    
                    if (total !== 100 && total > 0) {
                        operationsWarning.style.display = 'block';
                        operationsTotalDisplay.style.color = '#d32f2f';
                    } else {
                        operationsWarning.style.display = 'none';
                        operationsTotalDisplay.style.color = '#ff8c00';
                    }
                });
            });
            
            // Materials percentage validation
            const materialsPercents = document.querySelectorAll('.materials-percent');
            const materialsTotalDisplay = document.getElementById('materialsTotalDisplay');
            const materialsWarning = document.getElementById('materialsWarning');
            
            materialsPercents.forEach(select => {
                select.addEventListener('change', () => {
                    let total = 0;
                    materialsPercents.forEach(s => {
                        total += parseInt(s.value) || 0;
                    });
                    
                    materialsTotalDisplay.textContent = `Current Total: ${total}%`;
                    
                    if (total !== 100 && total > 0) {
                        materialsWarning.style.display = 'block';
                        materialsTotalDisplay.style.color = '#d32f2f';
                    } else {
                        materialsWarning.style.display = 'none';
                        materialsTotalDisplay.style.color = '#ff8c00';
                    }
                });
            });
        }
        
        // Initialize conditional logic
        setupConditionalLogic();
        setupPercentageValidation();

        // Format currency inputs - updated with new field names
        const currencyInputs = [
  'owner_partner_payroll','subcontractor_cost','uninsured_sub_payroll',
  'employee_payroll','leased_employee_payroll','total_gross_sales','wrap_up_cost',
  'gross_sales_year_1','gross_sales_year_2','gross_sales_year_3','minimum_limits'
];
        
        function strip(value) {
            return parseFloat(value.replace(/[^0-9.-]+/g,"")) || 0;
        }
        
        function format(value) {
            return "$" + value.toLocaleString();
        }
        
        let formatTimeout;
        currencyInputs.forEach(fieldName => {
            const input = document.querySelector(`[name="${fieldName}"]`);
            if (input) {
                input.addEventListener("blur", () => {
                    clearTimeout(formatTimeout);
                    formatTimeout = setTimeout(() => {
                        const val = strip(input.value);
                        if (val > 0) {
                            input.value = format(val);
                        }
                    }, 100);
                });
                input.addEventListener("keydown", (e) => {
                    if (e.key === "Enter") {
                        e.preventDefault();
                        e.stopPropagation();
                        input.blur();
                    }
                });
            }
        });

        // PREVENT ENTER KEY SUBMITS
        document.querySelectorAll('input, select, textarea').forEach(input => {
            input.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && input.type !== 'submit') {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });
        });

        // ROBUST AJAX FORM SUBMIT
        const form = document.getElementById("quoteForm");
        const submitButton = form.querySelector('button[type="submit"]');
        
        form.addEventListener("submit", async function (event) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();

            const currentTime = Date.now();
            
            if (isSubmitting || (currentTime - lastSubmitTime) < MIN_SUBMIT_INTERVAL) {
                console.log("Duplicate submit blocked");
                return false;
            }
            
            // Validate percentage totals
            let operationsTotal = 0;
            document.querySelectorAll('.operations-percent').forEach(s => {
                operationsTotal += parseInt(s.value) || 0;
            });
            
            let materialsTotal = 0;
            document.querySelectorAll('.materials-percent').forEach(s => {
                materialsTotal += parseInt(s.value) || 0;
            });
            
            if (operationsTotal > 0 && operationsTotal !== 100) {
                alert("Operations percentages must equal 100%. Current total: " + operationsTotal + "%");
                return false;
            }
            
            if (materialsTotal > 0 && materialsTotal !== 100) {
                alert("Materials percentages must equal 100%. Current total: " + materialsTotal + "%");
                return false;
            }
            
            isSubmitting = true;
            lastSubmitTime = currentTime;
            submitButton.disabled = true;
            submitButton.textContent = "Submitting...";

            try {
                const formData = new FormData(form);
                const formDataObj = Object.fromEntries(formData.entries());

                // Add segments for form mapping
                const segments = ["RoofingForm", "Roofing125", "Roofing126"];

                const api_key = "CID9200$";

                const response = await fetch("https://cid-pdf-api.onrender.com/submit-quote", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "X-API-Key": api_key
                    },
                    body: JSON.stringify({
                        formData: formDataObj,
                        segments
                    })
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    alert("Error: " + errorText);
                    return;
                }

                const result = await response.json();
                
                if (result.success) {
                    form.style.pointerEvents = 'none';
                    submitButton.textContent = "Redirecting...";
                    
                    setTimeout(() => {
                        window.location.href = "thankyou.html";
                    }, 500);
                } else {
                    alert("Error: " + (result.error || "Unknown error occurred"));
                }

            } catch (err) {
                alert("Submission failed: " + err.message);
            } finally {
                setTimeout(() => {
                    isSubmitting = false;
                    submitButton.disabled = false;
                    submitButton.textContent = "Submit Quote Request";
                }, 3000);
            }
            
            return false;
        });
        
        form.addEventListener("submit", function(e) {
            if (isSubmitting) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                return false;
            }
        });
    });
</script>
</body>
</html>
